var h5ComponentPolyline=function(b,g){var p=new h5ComponentBase(b,g);var n=g.width;var e=g.height;var j=document.createElement("canvas");var c=j.getContext("2d");j.width=n;j.height=e;p.append(j);window.context=c;for(var d=0;d<11;d++){var k=(e/10)*d;c.moveTo(0,k);c.lineTo(n,k)}for(var d=0;d<g.data.length+2;d++){var f=g.data.length+1;var o=n/(g.data.length+6)*d;var m=(n/f)*d;c.moveTo(m,0);c.lineTo(m,e)}c.lineWidth=3;c.strokeStyle="#666";c.stroke();for(var d=0;d<g.data.length+2;d++){var f=g.data.length+1;var o=n/(g.data.length+6)*d;var m=(n/f)*d;c.moveTo(m,0);c.lineTo(m,e);if(g.data[d]){var a=$("<div class='text'>");a.text(g.data[d][0]);a.css({top:e/2+5,left:o});p.append(a)}}c.stroke();var j=document.createElement("canvas");var c=j.getContext("2d");j.width=n;j.height=e;p.append(j);var l=function(t){c.clearRect(0,0,n,e);c.beginPath();c.lineWidth=3;c.strokeStyle="#FF8B7B";for(d in g.data){var s=g.data[d];var r=(n/(g.data.length+1))*d+n/(g.data.length+1);var y=(1-s[1]*t)*e;c.moveTo(r,y);c.arc(r,y,5,0,2*Math.PI);c.stroke()}for(d in g.data){var s=g.data[d];var r=(n/(g.data.length+1))*d+n/(g.data.length)-30;var y=(0.95-s[1]*t)*e;var u=(s[1]*100)+"%";c.font="20px Arial";c.moveTo(r,y);c.fillStyle="red";c.fillText(u,r,y)}c.moveTo(n/(g.data.length+1),(1-g.data[0][1]*t)*e);for(d in g.data){var v=g.data[d];var q=(n/(g.data.length+1))*d+n/(g.data.length+1);var x=(1-v[1]*t)*e;c.lineTo(q,x)}c.stroke();c.strokeStyle="rgba(255,136,120,0.2)";c.lineWidth=3;var i=g.data.length-1;var h=(n/(g.data.length+1))*5;var w=(1-g.data[i][1]*t)*e;c.moveTo(h,w);c.lineTo(h,e);c.lineTo(n/(g.data.length+1),e);c.lineTo(n/(g.data.length+1),(1-g.data[0][1]*t)*e);c.fillStyle="rgba(255,136,120,0.2)";c.fill();c.stroke()};p.on("afterLoad",function(){var h=0;for(d=0;d<100;d++){setTimeout(function(){h+=0.01;l(h)},d*10+1000)}});p.on("onLeave",function(){var h=1;for(d=0;d<100;d++){setTimeout(function(){h-=0.01;l(h)},d*10)}});return p};